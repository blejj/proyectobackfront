<div class="checkout-container">
  <!-- Resumen simple del carrito -->
  <h2>Resumen de tu compra</h2>
  <ul>
    <li *ngFor="let item of (cartItems$ | async)">
      {{ item.title }} ({{ item.quantity }}x) -
      {{ item.price * item.quantity | currency:'USD' }}
    </li>
  </ul>

  <p>
    <strong>Total a Pagar:</strong>
    {{ totalPriceSignal() | currency:'USD' }}
  </p>

  <hr />

  <!-- Dirección -->
  <h2>1. Dirección de Envío</h2>

  <form [formGroup]="addressForm" (ngSubmit)="onSubmit()">
    <label>
      Calle
      <input type="text" formControlName="calle" />
    </label>
    <br />
    <label>
      Número
      <input type="text" formControlName="numero" />
    </label>
    <br />
    <label>
      Localidad
      <input type="text" formControlName="localidad" />
    </label>
    <br />
    <label>
      Provincia
      <input type="text" formControlName="provincia" />
    </label>
    <br />
    <label>
      Código Postal
      <input type="text" formControlName="codigoPostal" />
    </label>

    <hr />

    <!-- Método de pago -->
    <h2>2. Método de Pago</h2>

    <p>
      Por seguridad, se usa Mercado Pago. No guardamos datos de tarjeta.
    </p>

    <button type="submit" [disabled]="addressForm.invalid">
      Pagar con Mercado Pago
    </button>
  </form>
</div>
